{% extends 'layout.html' %}

{% block content %}
    <div class="container">
        <h4>Edit Expense for Firm: {{ firm_name }} and Project: {{ project_name }}</h4>
        <hr>
        <form method="POST">
            {{ form.hidden_tag() }}

            <!-- Amount Field -->
            <div class="form-group">
                {{ form.amount.label(class="form-label") }}
                {{ form.amount(class="form-control") }}
                {% if form.amount.errors %}
                    <div class="alert alert-danger" role="alert">
                        {{ form.amount.errors|join(', ') }}
                    </div>
                {% endif %}
            </div>

            <!-- Description Field -->
            <div class="form-group">
                {{ form.description.label(class="form-label") }}
                {{ form.description(class="form-control") }}
                {% if form.description.errors %}
                    <div class="alert alert-danger" role="alert">
                        {{ form.description.errors|join(', ') }}
                    </div>
                {% endif %}
            </div>

            <!-- Payment Details Field -->
            <div class="form-group">
                {{ form.paymentDetails.label(class="form-label") }}
                {{ form.paymentDetails(class="form-control") }}
                {% if form.paymentDetails.errors %}
                    <div class="alert alert-danger" role="alert">
                        {{ form.paymentDetails.errors|join(', ') }}
                    </div>
                {% endif %}
            </div>

            <!-- Payment Date Field -->
            <div class="form-group">
                {{ form.paymentDate.label(class="form-label") }}
                {{ form.paymentDate(class="form-control") }}
                {% if form.paymentDate.errors %}
                    <div class="alert alert-danger" role="alert">
                        {{ form.paymentDate.errors|join(', ') }}
                    </div>
                {% endif %}
            </div>

            <!-- Vendor Field -->
            <div class="form-group">
                {{ form.vendor.label(class="form-label") }}
                {{ form.vendor(class="form-control") }}
                {% if form.vendor.errors %}
                    <div class="alert alert-danger" role="alert">
                        {{ form.vendor.errors|join(', ') }}
                    </div>
                {% endif %}
            </div>

            <!-- Payment Type Field -->
            <div class="form-group">
                <label class="form-label">Payment Type</label>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="paymentType" value="Paid" id="paidRadio" {% if form.paymentType.data == 'Paid' %}checked{% endif %} required>
                    <label class="form-check-label" for="paidRadio">
                        Paid
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="paymentType" value="Received" id="receivedRadio" {% if form.paymentType.data == 'Received' %}checked{% endif %} required>
                    <label class="form-check-label" for="receivedRadio">
                        Received
                    </label>
                </div>
                {% if form.paymentType.errors %}
                    <div class="alert alert-danger" role="alert">
                        {{ form.paymentType.errors|join(', ') }}
                    </div>
                {% endif %}
            </div>

            <!-- Other Hidden Fields -->
            <input type="hidden" name="project_id" value="{{ project.id }}">
            <input type="hidden" name="firm_id" value="{{ firm.id }}">

            <!-- Submit Button -->
            <button type="submit" class="btn btn-primary">Update</button>
        </form>
    </div>
{% endblock %}
